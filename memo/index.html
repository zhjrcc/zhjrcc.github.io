<!DOCTYPE html><html lang="zh-CN"><head><title>memo</title><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=0.5"><link rel="stylesheet" href="/css/highlight/xcode.min.css"><link rel="icon" href="https://unpkg.com/gitimages/favicon.ico"><link rel="stylesheet" href="/css/post.css"><meta name="generator" content="Hexo 6.0.0"></head><body><div class="inner"><h1>memo</h1><h2 id="VIM"><a href="#VIM" class="headerlink" title="VIM"></a>VIM</h2><p>插入：<code>i</code><br>保存文件并退出：<code>:wq</code><br>不保存退出：<code>:q!</code></p>
<h2 id="web服务器"><a href="#web服务器" class="headerlink" title="web服务器"></a>web服务器</h2><p>web服务器，处理浏览器等Web客户端的请求并返回相应响应，也可以放置网站文件，让全世界浏览；可以放置数据文件，让全世界下载。目前最主流的三个Web服务器是Apache、 Nginx 、IIS。node通过http模块自带web服务器。</p>
<p>严格意义上Web服务器只负责处理HTTP协议，只能发送静态页面的内容。web服务器加上后端编程语言，比如PHP，Java，能处理动态内容，这个就是应用服务器，两者能配合使用。web服务器接收到请求，再交给应用服务器（后端语言编程）处理，再返回。</p>
<h2 id=""><a href="#" class="headerlink" title=""></a><meta http-equiv="X-UA-Compatible" content="IE=edge"></h2><p>X-UA-Compatible是設置IE兼容模式用的，也就是选择页面应呈现为哪个版本的Internet Explorer，<br>比如当前的标准是：<code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</code><br>但现在，因为现代浏览器大多都更新了，并非一定要在网页中添加这个兼容模式。</p>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a><meta name="viewport"></h2><p>viewport tag 的定義只對mobile device有用，用來控制 mobile device 顯示網頁內容時的一些設定。</p>
<pre><code class="html">// 指定螢幕寬度為裝置寬度，畫面載入初始縮放比例 100%
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; &gt;
// 以下兩種設定都可以防止使用者做畫面縮放，將畫面鎖在縮放比例 100%
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1&quot; &gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=no&quot;&gt;
</code></pre>
<h2 id="解决浏览器自动加载favicon"><a href="#解决浏览器自动加载favicon" class="headerlink" title="解决浏览器自动加载favicon"></a>解决浏览器自动加载favicon</h2><pre><code class="html">&lt;link rel=&quot;icon&quot; href=&quot;data:,&quot;&gt;
</code></pre>
<h2 id="JavaScript异步函数的执行"><a href="#JavaScript异步函数的执行" class="headerlink" title="JavaScript异步函数的执行"></a>JavaScript异步函数的执行</h2><p>当在循环中执行异步函数时，循环结束后，并不代表异步函数也执行结束。循环结束会继续执行下面的代码，但异步函数不会结束，所以当需要得到异步函数中的数据时，要注意这个问题，否则你得到的数据很有可能并不是异步函数的数据结果，而是之前的数据。</p>
<pre><code class="javascript">let arr = []
do &#123;
    // each是异步函数
    image.each(function(item)&#123;
        arr.push[1,2]
    &#125;);
  &#125;);
&#125;
while (i&lt;100);
// 得到的是：[]，而不是想象中的[1,2],因为循环结束时，异步函数并没有结束。但代码会继续执行下去，所以得到的是之前的数据[]
console.log(arr);
</code></pre>
<h2 id="JavaScript阶乘递归函数简单例子"><a href="#JavaScript阶乘递归函数简单例子" class="headerlink" title="JavaScript阶乘递归函数简单例子"></a>JavaScript阶乘递归函数简单例子</h2><pre><code class="javascript">function factorial(x) &#123;
  if (x &lt;= 1) return 1;
  return x * factorial(x - 1);
&#125;
</code></pre>
<h2 id="函数声明和函数表达式"><a href="#函数声明和函数表达式" class="headerlink" title="函数声明和函数表达式"></a>函数声明和函数表达式</h2><pre><code class="javascript">// 函数声明会“提升”到当前作用域的顶层，因此在函数声明之前就可以使用函数
sum(1,2);
function sum(x, y) &#123;return x + y&#125;;

// 函数表达式不会“提升”，在函数表达式之前调用该函数会引发错误
// 如果将函数对象分配给var变量，则引发“类型错误” TypeError: sum is not a function
// 如果将函数对象分配给let变量，则引发“引用错误” Reference: sum is not defined
sum(1, 2);
// let
var sum = function (x, y) &#123;return x + y&#125;
</code></pre>
<h2 id="嵌套函数的上下文this并不是方法的调用上下文（this）"><a href="#嵌套函数的上下文this并不是方法的调用上下文（this）" class="headerlink" title="嵌套函数的上下文this并不是方法的调用上下文（this）"></a>嵌套函数的上下文this并不是方法的调用上下文（this）</h2><pre><code class="javascript">let o = &#123;
  m() &#123;
    let self = this;
    this === o; // true
    // f是一个嵌套函数，this指向全局对象而并不是对象o
    
    // 可以通过在包含函数中把this保存到self变量中，再通过嵌套函数访问self
    function f() &#123;
      this === o; // false
      self === o; // true
    &#125;
    f();

    // 还可以利用箭头函数的this绑定机制
    const f = () =&gt; &#123;
      this === o; // true
    &#125;
    // 还可以使用bind，绑定this值
    const f = (function() &#123;
      this. === o
    &#125;).bind(o)
  &#125;
&#125;
</code></pre>
<h2 id="amp-amp-和-另一种用法"><a href="#amp-amp-和-另一种用法" class="headerlink" title="&amp;&amp;和||另一种用法"></a>&amp;&amp;和||另一种用法</h2><pre><code class="javascript">// &amp;&amp; 和 || 都是短路行为（short circuiing）
// &amp;&amp; 流行用作条件执行，相当于if，这里只有当a===b才会执行stop
a===b &amp;&amp; stop()
// || 流行用作条件变量赋值，当b是true时，执行a=b，否则a=[]
a = b || [];
</code></pre>
<h2 id="argument和parameter"><a href="#argument和parameter" class="headerlink" title="argument和parameter"></a>argument和parameter</h2><p>parameter指函数定义中的参数，也就是形式参数；argument指函数被调用时的参数，也就是实际参数。</p>
<h2 id="解构赋值：将实参解构为单个形参"><a href="#解构赋值：将实参解构为单个形参" class="headerlink" title="解构赋值：将实参解构为单个形参"></a>解构赋值：将实参解构为单个形参</h2><pre><code class="javascript">const vectorAdd = ([x1, y1], [x2, y2]) =&gt; [x1 + x2, y1 + y2];
const result = vectorAdd([1, 2], [3, 4]);
console.log(result); // [4, 6]
</code></pre>
<h2 id="…扩展运算符和…rest剩余函数参数"><a href="#…扩展运算符和…rest剩余函数参数" class="headerlink" title="…扩展运算符和…rest剩余函数参数"></a>…扩展运算符和…rest剩余函数参数</h2><pre><code class="javascript">// 都是三个...，但用法是完全不同的
// rest剩余函数参数用在函数的形式参数上，把多余的参数都加入到rest数组中
function([x, y, ...rest1], ...rest2) &#123;
// 扩展运算符用在数组或者任何可迭代对象上，进行展开
  return [x+y, ...rest1, ...coords]
&#125;
</code></pre>
<h2 id="for循环中的闭包"><a href="#for循环中的闭包" class="headerlink" title="for循环中的闭包"></a>for循环中的闭包</h2><pre><code class="javascript">// 闭包定义在for循环外面，使用var也能输出想要的变量i，相当于把i赋值到v中
function constfunc(v) &#123;
  return () =&gt; v;
&#125;
let funcs = [];
for (var i = 0; i &lt; 10; i++) &#123;
  funcs[i] = constfunc(i);
&#125;
funcs[5]() // =&gt; 5

// 闭包定义在for循环里面，因为var变量没有块级作用域，所以闭包中的i最终值是循环结束时的i的值，也就是10
// 注意，只要用let就能解决这个问题，这里只是示范
function constfuncs() &#123;
  let funcs = [];
  for (var i = 0; i &lt; 10; i++) &#123;
    funcs[i] = () =&gt; i;
  &#125;
  return funcs;
&#125;
constfuncs(); // =&gt; 10
</code></pre>
<p>如下图，是当把for循环中把var改成let之后的作用域：<br><img src="https://unpkg.com/gitimages/2023-01-24-20-37-26.png"></p>
<p class="backHome"><span></span><a href="/">Back</a><span>↶</span></p></div><script src="/js/highlight.min.js"></script><script src="/js/jquery.min.js"></script><script src="/js/main.js"></script></body></html>